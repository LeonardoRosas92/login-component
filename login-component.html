<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-style/color.html">

<dom-module id="login-component">
  <template>
    <style is="custom-style">
      :host {
        display: block;
        --paper-input-container-focus-color:red;
      }
      paper-button.pink {
        color: var(--paper-pink-a200);
        --paper-button-ink-color: var(--paper-pink-a200);
      }
      paper-button.pink:hover {
        background-color: var(--paper-pink-100);
      }
    </style>
    <div class="sign" hidden="{{divShow}}">
      <h2>Iniciar sesíon</h2>
      <p>¿Aun no tienes cuenta? Da clic</p>
      <paper-button on-tap="changeDiv" class="pink">Aqui</paper-button>
      <paper-input label="[[languageSelected.name]]" value="{{username}}"></paper-input>
      <paper-input label="[[languageSelected.lastName]]" type="password" value="{{password}}"></paper-input>
      <paper-button on-tap="login" class="pink">[[languageSelected.sesion]]</paper-button>
    </div>
    <div class="createAccount"  hidden="{{!divShow}}">
      <h2>Registro</h2>
      <p>¿Ya tienes cuenta? Da clic</p>
      <paper-button on-tap="changeDiv" class="pink">Aqui</paper-button>
      <h2>Datos de usuario</h2>
      <paper-input label="Nombres" value="{{name}}"></paper-input>
      <paper-input label="Apellidos" value="{{lastName}}"></paper-input>
      <paper-input label="Edad" value="{{age}}"></paper-input>
      <paper-input label="Nombre de usuario" value="{{username}}"></paper-input>
      <paper-input label="Contraseña" type="password" value="{{password}}"></paper-input>
      <paper-input label="Repita contraseña" type="password" value="{{passwordConfirm}}"></paper-input>
      <paper-button on-tap="createAccount" class="pink">REGISTRAR</paper-button>
    </div>
  </template>

  <script>
    /**
     * `login-component`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class LoginComponent extends Polymer.Element {
      static get is() { return 'login-component'; }
      static get properties() {
        return {
          username: {
            type: String,
            value: ''
          },
          password:{
            type: String,
            value: ''
          },
          passwordConfirm:{
            type:String,
            value:''
          },
          name:{
            type:String,
            value:''
          },
          lastName:{
            type:String,
            value:''
          },
          age:{
            type: String,
            value:''
          },
          picture:{
            type: String,
            value:''
          },
          divShow:{
            type: Boolean,
            value: false
          },
          languageSelected:{
            type: Object,
            value: []
          }

        };
      }
      login(){
        this.dispatcherEvent(new CustomEvent('login-user',{
          bubbles:false,
          composed: false,
          detail:{
            username: this.username,
            password: this.password
          }
        }));
      }
      createAccount(){
        this.dispatcherEvent(new CustomEvent('register-user',{
          bubbles:false,
          composed:false,
          detail:{
            username: this.username,
            password: this.password,
            name: this.name,
            lastName: this.lastName,
            age: this.age,
            image: this.picture
          }
        }));
      }
      changeDiv(){
        this.divShow = !this.divShow;
      }
    }

    window.customElements.define(LoginComponent.is, LoginComponent);
  </script>
</dom-module>
